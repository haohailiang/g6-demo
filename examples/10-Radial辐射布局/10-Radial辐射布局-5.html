<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #container {
            width: calc(100vw - 50px);
            height: calc(100vh - 50px);
        }

        .g6-tooltip {
            border-radius: 6px;
            font-size: 12px;
            color: #fff;
            background-color: #000;
            padding: 2px 8px;
            text-align: center;
        }
    </style>
    <script src="../../lib/g6.min.js"></script>
    <!-- <script src="../00-mock/7bacd7d1-4119-4ac1-8be3-4c4b9bcbc25f.js"></script> -->
</head>

<body>
    <!-- 1. 创建容器 -->
    <div id="container"></div>
    <script>
        const data = {
            "nodes": [
                {
                    "id": "8264",
                    "icon": "/scopa/console/icon/getIconById?iconId=15",
                    "name": "吴彬",
                    "position": "商软冠联网络有限公司",
                    "entityGroup": "person"
                },
                {
                    "id": "2048004176",
                    "icon": "/scopa/console/icon/getIconById?iconId=15",
                    "name": "马智辰",
                    "position": "华远软件信息有限公司",
                    "entityGroup": "person"
                },
                {
                    "id": "16456",
                    "icon": "/scopa/console/icon/getIconById?iconId=15",
                    "name": "王娟a",
                    "position": "同兴万点网络有限公司",
                    "entityGroup": "person"
                },
                {
                    "id": "8424",
                    "icon": "/scopa/console/icon/getIconById?iconId=15",
                    "name": "董伟",
                    "position": "南康传媒有限公司",
                    "entityGroup": "person"
                },
                {
                    "id": "4144",
                    "icon": "/scopa/console/icon/getIconById?iconId=1",
                    "name": "襄樊地球村信息有限公司",
                    "position": [
                        "软件服务；信息技术"
                    ],
                    "entityGroup": "organ"
                },
                {
                    "id": "4112",
                    "icon": "/scopa/console/icon/getIconById?iconId=15",
                    "name": "周平",
                    "position": "创亿信息有限公司",
                    "entityGroup": "person"
                },
                {
                    "id": "4304",
                    "icon": "/scopa/console/icon/getIconById?iconId=15",
                    "name": "黄明",
                    "position": "国讯传媒有限公司",
                    "entityGroup": "person"
                }
            ],
            "edges": [
                {
                    "source": "8264",
                    "target": "4144"
                },
                {
                    "source": "16456",
                    "target": "4144"
                },
                {
                    "source": "8424",
                    "target": "4144"
                },
                {
                    "source": "4304",
                    "target": "4144"
                },
                {
                    "source": "2048004176",
                    "target": "4144"
                },
                {
                    "source": "4112",
                    "target": "4144"
                }
            ]
        }

        const descriptionDiv = document.createElement('div');
        descriptionDiv.innerHTML =
            'Radial layout, focusNode =  = 0, unitRadius = 50, preventOverlap: false';
        const graphDiv = document.getElementById('container');
        graphDiv.appendChild(descriptionDiv);

        const width = document.getElementById('container').scrollWidth;
        const height = (document.getElementById('container').scrollHeight || 500) - 20;

        const graph = new G6.Graph({
            container: 'container',
            width,
            height,
            modes: {
                default: ['drag-canvas', 'drag-node'],
            },
            layout: {
                type: 'radial',
                preventOverlap: true,
                unitRadius: 50,
                nodeSize: 40,
            },
            animate: true,
            fitView: true,
            defaultNode: {
                size: 20,
                style: {
                    lineWidth: 2,
                    fill: '#C6E5FF',
                    stroke: '#5B8FF9',
                },
            },
            defaultEdge: {
                size: 1,
                color: '#e2e2e2',
                // style: {
                //     endArrow: {
                //         path: 'M 0,0 L 8,4 L 8,-4 Z',
                //         fill: '#e2e2e2',
                //     },
                // },
            },
        });
        graph.data(data);
        graph.render();

                                            setTimeout(function () {
                                                //     descriptionDiv.innerHTML =
                                                //         'Radial layout, focusNode =  = 0, unitRadius = 80, preventOverlap: true';
                                                //     graph.updateLayout({
                                                //         preventOverlap: true,
                                                //         unitRadius: 200,
                                                //         nodeSize: 80,
                                                //         // focusNode: '10',
                                                //     });

                                                graph.fitCenter()
                                                graph.fitView()
                                            }, 600);



        // layoutConfigTranslation();

        // setInterval(function () {
        //     layoutConfigTranslation();
        // }, 7000);

        function layoutConfigTranslation() {
            setTimeout(function () {
                descriptionDiv.innerHTML =
                    'Radial layout, focusNode =  = 0, unitRadius = 50, preventOverlap: true';
                graph.updateLayout({
                    preventOverlap: true,
                    nodeSize: 20,
                });
            }, 1000);

            setTimeout(function () {
                descriptionDiv.innerHTML =
                    'Radial layout, focusNode =  = 0, unitRadius = 80, preventOverlap: true';
                graph.updateLayout({
                    unitRadius: 80,
                });
            }, 2500);

            setTimeout(function () {
                descriptionDiv.innerHTML =
                    'Radial layout, focusNode =  = 10, unitRadius = 80, preventOverlap: true';
                graph.updateLayout({
                    focusNode: '10',
                });
            }, 4000);

            setTimeout(function () {
                descriptionDiv.innerHTML =
                    'Radial layout, focusNode =  = 20, unitRadius = 80, preventOverlap: true';
                graph.updateLayout({
                    focusNode: '20',
                });
            }, 5500);

            setTimeout(function () {
                descriptionDiv.innerHTML =
                    'Radial layout, focusNode =  = 0, unitRadius = 50, preventOverlap: false';
                graph.updateLayout({
                    focusNode: '0',
                    preventOverlap: false,
                    unitRadius: 50,
                });
            }, 5500);
        }
    </script>
</body>

</html>